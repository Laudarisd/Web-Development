{"ast":null,"code":"import React,{useState}from'react';import Navbar from'./js/Navbar';import Home from'./js/Home';import Login from'./js/Login';import'./css/Login.css';import AboutUs from'./js/Aboutus';import AdminPanel from'./js/AdminPanel';import AiMl from'./js/AiMl';import Ds from'./js/Ds';import Python from'./js/Python';import Forgotpw from'./js/Forgotpw';import Signup from'./js/Signup';import Footer from'./js/Footer';import Coding from'./js/Coding';import{Routes,Route,useNavigate}from'react-router-dom';import'mdb-react-ui-kit/dist/css/mdb.min.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const[isLoggedIn,setIsLoggedIn]=useState(false);const[isAdmin,setIsAdmin]=useState(false);const navigate=useNavigate();const handleSignup=async(email,password,firstName,lastName,phoneNumber)=>{console.log(\"handleSignup called with:\",email,password,firstName,lastName,phoneNumber);try{const response=await fetch('http://localhost:3001/signup',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email,password,firstName,lastName,phoneNumber})});const data=await response.text();if(response.ok){alert(data);navigate('/login');// Navigate to login after successful signup\n}else{alert(data);// Show error from server response\n}}catch(error){console.error('Signup error:',error);alert('Signup failed');}};const handleLogin=async(email,password)=>{// Regular expressions for email and password validation\nconst emailRegex=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/;const passwordRegex=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/;// Check if both email and password are entered\nif(!email||!password){alert(\"Please enter both email and password\");return;}// Check if email is in valid format\nif(!emailRegex.test(email)){alert(\"Please enter a valid email\");return;}// Check if password is in valid format\nif(!passwordRegex.test(password)){alert(\"Please enter a valid password\");return;}try{const response=await fetch('http://localhost:3001/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email,password})});const data=await response.text();if(response.ok){setIsLoggedIn(true);setIsAdmin(email==='admin@example.com');navigate('/');}else{alert(data);// Display error message from the server\n}}catch(error){console.error('Login error:',error);alert('Login failed');}};const handleLogout=()=>{setIsLoggedIn(false);setIsAdmin(false);navigate('/login');// Redirect to login page on logout\n};if(!isLoggedIn){return/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(Signup,{onSignup:handleSignup})}),/*#__PURE__*/_jsx(Route,{path:\"/forgotpw\",element:/*#__PURE__*/_jsx(Forgotpw,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{onLogin:handleLogin})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Login,{onLogin:handleLogin})})]});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{isLoggedIn:isLoggedIn,onLogout:handleLogout}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/about\",element:/*#__PURE__*/_jsx(AboutUs,{})}),/*#__PURE__*/_jsx(Route,{path:\"/aiml\",element:/*#__PURE__*/_jsx(AiMl,{})}),/*#__PURE__*/_jsx(Route,{path:\"/Ds\",element:/*#__PURE__*/_jsx(Ds,{})}),/*#__PURE__*/_jsx(Route,{path:\"/Coding\",element:/*#__PURE__*/_jsx(Coding,{})}),/*#__PURE__*/_jsx(Route,{path:\"/python\",element:/*#__PURE__*/_jsx(Python,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(Signup,{onSignup:handleSignup})}),/*#__PURE__*/_jsx(Route,{path:\"/forgotpw\",element:/*#__PURE__*/_jsx(Forgotpw,{})}),isAdmin&&/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:/*#__PURE__*/_jsx(AdminPanel,{})})]}),/*#__PURE__*/_jsx(Footer,{})]});}export default App;","map":{"version":3,"names":["React","useState","Navbar","Home","Login","AboutUs","AdminPanel","AiMl","Ds","Python","Forgotpw","Signup","Footer","Coding","Routes","Route","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","isLoggedIn","setIsLoggedIn","isAdmin","setIsAdmin","navigate","handleSignup","email","password","firstName","lastName","phoneNumber","console","log","response","fetch","method","headers","body","JSON","stringify","data","text","ok","alert","error","handleLogin","emailRegex","passwordRegex","test","handleLogout","children","path","element","onSignup","onLogin","onLogout"],"sources":["/Users/slau8405/Desktop/work_space/work_space/project/learningHub/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport Navbar from './js/Navbar';\nimport Home from './js/Home';\nimport Login from './js/Login';\nimport './css/Login.css'\nimport AboutUs from './js/Aboutus';\nimport AdminPanel from './js/AdminPanel';\nimport AiMl from './js/AiMl';\nimport Ds from './js/Ds';\nimport Python from './js/Python'\nimport Forgotpw from './js/Forgotpw';\nimport Signup from './js/Signup';\nimport Footer from './js/Footer';\nimport Coding from './js/Coding';\nimport { Routes, Route, useNavigate } from 'react-router-dom';\nimport 'mdb-react-ui-kit/dist/css/mdb.min.css';\n\n\nfunction App() {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [isAdmin, setIsAdmin] = useState(false);\n  const navigate = useNavigate();\n\n  const handleSignup = async (email, password, firstName, lastName, phoneNumber) => {\n    console.log(\"handleSignup called with:\", email, password, firstName, lastName, phoneNumber);\n    try {\n        const response = await fetch('http://localhost:3001/signup', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({ email, password, firstName, lastName, phoneNumber })\n        });\n\n        const data = await response.text();\n\n        if (response.ok) {\n            alert(data);\n            navigate('/login'); // Navigate to login after successful signup\n        } else {\n            alert(data); // Show error from server response\n        }\n    } catch (error) {\n        console.error('Signup error:', error);\n        alert('Signup failed');\n    }\n  };\n  \n  const handleLogin = async (email, password) => {\n    // Regular expressions for email and password validation\n    const emailRegex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/;\n    const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/;\n\n    // Check if both email and password are entered\n    if (!email || !password) {\n        alert(\"Please enter both email and password\");\n        return;\n    }\n\n    // Check if email is in valid format\n    if (!emailRegex.test(email)) {\n        alert(\"Please enter a valid email\");\n        return;\n    }\n\n    // Check if password is in valid format\n    if (!passwordRegex.test(password)) {\n        alert(\"Please enter a valid password\");\n        return;\n    }\n\n    try {\n        const response = await fetch('http://localhost:3001/login', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({ email, password })\n        });\n\n        const data = await response.text();\n        if (response.ok) {\n            setIsLoggedIn(true);\n            setIsAdmin(email === 'admin@example.com');\n            navigate('/');\n        } else {\n            alert(data); // Display error message from the server\n        }\n    } catch (error) {\n        console.error('Login error:', error);\n        alert('Login failed');\n    }\n};\n\nconst handleLogout = () => {\n    setIsLoggedIn(false);\n    setIsAdmin(false);\n    navigate('/login'); // Redirect to login page on logout\n};\n  if (!isLoggedIn) {\n    return (\n      <Routes>\n        <Route path=\"/signup\" element={<Signup onSignup={handleSignup} />} />\n        <Route path=\"/forgotpw\" element={<Forgotpw />} />\n        <Route path=\"/login\" element={<Login onLogin={handleLogin} />} />\n        {/* Redirect to login by default */}\n        <Route path=\"*\" element={<Login onLogin={handleLogin} />} />\n      </Routes>\n\n    );\n  }\n  return (\n    <>\n      <Navbar isLoggedIn={isLoggedIn} onLogout={handleLogout} />\n      <Routes>\n        <Route path=\"/\" element={<Home />} />\n        <Route path=\"/about\" element={<AboutUs />} />\n        {/* For dropdown button */}\n        <Route path=\"/aiml\" element={<AiMl />} />\n        <Route path=\"/Ds\" element={<Ds />} />\n        <Route path = \"/Coding\" element={<Coding />} />\n        <Route path = \"/python\" element= {<Python />} />\n        <Route path=\"/signup\" element={<Signup onSignup={handleSignup} />} />\n        <Route path=\"/forgotpw\" element={<Forgotpw/>}></Route>\n        {isAdmin && <Route path=\"/admin\" element={<AdminPanel />} />}\n        {/* Redirect or show a not found component for unmatched routes */}\n      </Routes>\n      <Footer />\n      \n    </>\n  );\n}\n\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,MAAM,KAAM,aAAa,CAChC,MAAO,CAAAC,IAAI,KAAM,WAAW,CAC5B,MAAO,CAAAC,KAAK,KAAM,YAAY,CAC9B,MAAO,iBAAiB,CACxB,MAAO,CAAAC,OAAO,KAAM,cAAc,CAClC,MAAO,CAAAC,UAAU,KAAM,iBAAiB,CACxC,MAAO,CAAAC,IAAI,KAAM,WAAW,CAC5B,MAAO,CAAAC,EAAE,KAAM,SAAS,CACxB,MAAO,CAAAC,MAAM,KAAM,aAAa,CAChC,MAAO,CAAAC,QAAQ,KAAM,eAAe,CACpC,MAAO,CAAAC,MAAM,KAAM,aAAa,CAChC,MAAO,CAAAC,MAAM,KAAM,aAAa,CAChC,MAAO,CAAAC,MAAM,KAAM,aAAa,CAChC,OAASC,MAAM,CAAEC,KAAK,CAAEC,WAAW,KAAQ,kBAAkB,CAC7D,MAAO,uCAAuC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAG/C,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGxB,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAACyB,OAAO,CAAEC,UAAU,CAAC,CAAG1B,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAAA2B,QAAQ,CAAGZ,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAa,YAAY,CAAG,KAAAA,CAAOC,KAAK,CAAEC,QAAQ,CAAEC,SAAS,CAAEC,QAAQ,CAAEC,WAAW,GAAK,CAChFC,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAEN,KAAK,CAAEC,QAAQ,CAAEC,SAAS,CAAEC,QAAQ,CAAEC,WAAW,CAAC,CAC3F,GAAI,CACA,KAAM,CAAAG,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,8BAA8B,CAAE,CACzDC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEb,KAAK,CAAEC,QAAQ,CAAEC,SAAS,CAAEC,QAAQ,CAAEC,WAAY,CAAC,CAC9E,CAAC,CAAC,CAEF,KAAM,CAAAU,IAAI,CAAG,KAAM,CAAAP,QAAQ,CAACQ,IAAI,CAAC,CAAC,CAElC,GAAIR,QAAQ,CAACS,EAAE,CAAE,CACbC,KAAK,CAACH,IAAI,CAAC,CACXhB,QAAQ,CAAC,QAAQ,CAAC,CAAE;AACxB,CAAC,IAAM,CACHmB,KAAK,CAACH,IAAI,CAAC,CAAE;AACjB,CACJ,CAAE,MAAOI,KAAK,CAAE,CACZb,OAAO,CAACa,KAAK,CAAC,eAAe,CAAEA,KAAK,CAAC,CACrCD,KAAK,CAAC,eAAe,CAAC,CAC1B,CACF,CAAC,CAED,KAAM,CAAAE,WAAW,CAAG,KAAAA,CAAOnB,KAAK,CAAEC,QAAQ,GAAK,CAC7C;AACA,KAAM,CAAAmB,UAAU,CAAG,iDAAiD,CACpE,KAAM,CAAAC,aAAa,CAAG,sEAAsE,CAE5F;AACA,GAAI,CAACrB,KAAK,EAAI,CAACC,QAAQ,CAAE,CACrBgB,KAAK,CAAC,sCAAsC,CAAC,CAC7C,OACJ,CAEA;AACA,GAAI,CAACG,UAAU,CAACE,IAAI,CAACtB,KAAK,CAAC,CAAE,CACzBiB,KAAK,CAAC,4BAA4B,CAAC,CACnC,OACJ,CAEA;AACA,GAAI,CAACI,aAAa,CAACC,IAAI,CAACrB,QAAQ,CAAC,CAAE,CAC/BgB,KAAK,CAAC,+BAA+B,CAAC,CACtC,OACJ,CAEA,GAAI,CACA,KAAM,CAAAV,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,6BAA6B,CAAE,CACxDC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEb,KAAK,CAAEC,QAAS,CAAC,CAC5C,CAAC,CAAC,CAEF,KAAM,CAAAa,IAAI,CAAG,KAAM,CAAAP,QAAQ,CAACQ,IAAI,CAAC,CAAC,CAClC,GAAIR,QAAQ,CAACS,EAAE,CAAE,CACbrB,aAAa,CAAC,IAAI,CAAC,CACnBE,UAAU,CAACG,KAAK,GAAK,mBAAmB,CAAC,CACzCF,QAAQ,CAAC,GAAG,CAAC,CACjB,CAAC,IAAM,CACHmB,KAAK,CAACH,IAAI,CAAC,CAAE;AACjB,CACJ,CAAE,MAAOI,KAAK,CAAE,CACZb,OAAO,CAACa,KAAK,CAAC,cAAc,CAAEA,KAAK,CAAC,CACpCD,KAAK,CAAC,cAAc,CAAC,CACzB,CACJ,CAAC,CAED,KAAM,CAAAM,YAAY,CAAGA,CAAA,GAAM,CACvB5B,aAAa,CAAC,KAAK,CAAC,CACpBE,UAAU,CAAC,KAAK,CAAC,CACjBC,QAAQ,CAAC,QAAQ,CAAC,CAAE;AACxB,CAAC,CACC,GAAI,CAACJ,UAAU,CAAE,CACf,mBACEJ,KAAA,CAACN,MAAM,EAAAwC,QAAA,eACLpC,IAAA,CAACH,KAAK,EAACwC,IAAI,CAAC,SAAS,CAACC,OAAO,cAAEtC,IAAA,CAACP,MAAM,EAAC8C,QAAQ,CAAE5B,YAAa,CAAE,CAAE,CAAE,CAAC,cACrEX,IAAA,CAACH,KAAK,EAACwC,IAAI,CAAC,WAAW,CAACC,OAAO,cAAEtC,IAAA,CAACR,QAAQ,GAAE,CAAE,CAAE,CAAC,cACjDQ,IAAA,CAACH,KAAK,EAACwC,IAAI,CAAC,QAAQ,CAACC,OAAO,cAAEtC,IAAA,CAACd,KAAK,EAACsD,OAAO,CAAET,WAAY,CAAE,CAAE,CAAE,CAAC,cAEjE/B,IAAA,CAACH,KAAK,EAACwC,IAAI,CAAC,GAAG,CAACC,OAAO,cAAEtC,IAAA,CAACd,KAAK,EAACsD,OAAO,CAAET,WAAY,CAAE,CAAE,CAAE,CAAC,EACtD,CAAC,CAGb,CACA,mBACE7B,KAAA,CAAAE,SAAA,EAAAgC,QAAA,eACEpC,IAAA,CAAChB,MAAM,EAACsB,UAAU,CAAEA,UAAW,CAACmC,QAAQ,CAAEN,YAAa,CAAE,CAAC,cAC1DjC,KAAA,CAACN,MAAM,EAAAwC,QAAA,eACLpC,IAAA,CAACH,KAAK,EAACwC,IAAI,CAAC,GAAG,CAACC,OAAO,cAAEtC,IAAA,CAACf,IAAI,GAAE,CAAE,CAAE,CAAC,cACrCe,IAAA,CAACH,KAAK,EAACwC,IAAI,CAAC,QAAQ,CAACC,OAAO,cAAEtC,IAAA,CAACb,OAAO,GAAE,CAAE,CAAE,CAAC,cAE7Ca,IAAA,CAACH,KAAK,EAACwC,IAAI,CAAC,OAAO,CAACC,OAAO,cAAEtC,IAAA,CAACX,IAAI,GAAE,CAAE,CAAE,CAAC,cACzCW,IAAA,CAACH,KAAK,EAACwC,IAAI,CAAC,KAAK,CAACC,OAAO,cAAEtC,IAAA,CAACV,EAAE,GAAE,CAAE,CAAE,CAAC,cACrCU,IAAA,CAACH,KAAK,EAACwC,IAAI,CAAG,SAAS,CAACC,OAAO,cAAEtC,IAAA,CAACL,MAAM,GAAE,CAAE,CAAE,CAAC,cAC/CK,IAAA,CAACH,KAAK,EAACwC,IAAI,CAAG,SAAS,CAACC,OAAO,cAAGtC,IAAA,CAACT,MAAM,GAAE,CAAE,CAAE,CAAC,cAChDS,IAAA,CAACH,KAAK,EAACwC,IAAI,CAAC,SAAS,CAACC,OAAO,cAAEtC,IAAA,CAACP,MAAM,EAAC8C,QAAQ,CAAE5B,YAAa,CAAE,CAAE,CAAE,CAAC,cACrEX,IAAA,CAACH,KAAK,EAACwC,IAAI,CAAC,WAAW,CAACC,OAAO,cAAEtC,IAAA,CAACR,QAAQ,GAAC,CAAE,CAAQ,CAAC,CACrDgB,OAAO,eAAIR,IAAA,CAACH,KAAK,EAACwC,IAAI,CAAC,QAAQ,CAACC,OAAO,cAAEtC,IAAA,CAACZ,UAAU,GAAE,CAAE,CAAE,CAAC,EAEtD,CAAC,cACTY,IAAA,CAACN,MAAM,GAAE,CAAC,EAEV,CAAC,CAEP,CAGA,cAAe,CAAAW,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}